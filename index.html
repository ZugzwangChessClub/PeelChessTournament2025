<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peel District-Wide Chess Tournament | Port Credit Chess Club</title>
    <link href="ZugzwangIcon.png" rel="shortcut icon" type="image/x-icon" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        :root {
            --primary: #1a1a2e;
            --secondary: #16213e;
            --accent: #f8bb22;
            --light: #e6f9ff;
            --dark: #0f0f1a;
            --text: #ffffff;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--primary);
            color: var(--text);
            overflow-x: hidden;
            perspective: 1000px;
        }

        /* Navigation Bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(22, 33, 62, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.3);
            transform: translateY(0);
            transition: transform 0.3s ease, opacity 0.3s ease;
            opacity: 1;
        }

        .navbar.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }

        .navbar.scrolling-up {
            transform: translateY(0);
            opacity: 1;
        }

        .navbar-logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .navbar-logo i {
            font-size: 1.8rem;
        }

        .navbar-links {
            display: flex;
            gap: 2rem;
        }

        .navbar-link {
            color: var(--text);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }

        .navbar-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: var(--transition);
        }

        .navbar-link:hover::after {
            width: 100%;
        }

        .navbar-link:hover {
            color: var(--accent);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text);
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1001;
        }

        /* 3D Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotateY(0deg); }
            50% { transform: translateY(-20px) rotateY(5deg); }
        }

        @keyframes chessMove {
            0% { transform: translate(0, 0) rotateY(0deg); }
            25% { transform: translate(10px, -10px) rotateY(15deg); }
            50% { transform: translate(0, -20px) rotateY(0deg); }
            75% { transform: translate(-10px, -10px) rotateY(-15deg); }
            100% { transform: translate(0, 0) rotateY(0deg); }
        }

        @keyframes boardTilt {
            0%, 100% { transform: rotateX(0deg) rotateY(0deg); }
            25% { transform: rotateX(5deg) rotateY(5deg); }
            50% { transform: rotateX(0deg) rotateY(10deg); }
            75% { transform: rotateX(-5deg) rotateY(5deg); }
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            margin-top: 0;
        }

        .header-content {
            z-index: 2;
            transform-style: preserve-3d;
            animation: float 8s ease-in-out infinite;
            margin-top: 60px; /* To account for navbar height */
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            margin-bottom: 1rem;
            text-shadow: 0 10px 20px rgba(0,0,0,0.3);
            background: linear-gradient(to right, var(--accent), #fff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .date-badge {
            background: var(--accent);
            color: var(--dark);
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            display: inline-block;
            margin-bottom: 3rem;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transform: rotate(-5deg);
        }

        .chess-piece {
            position: absolute;
            font-size: 3rem;
            opacity: 0.8;
            animation: chessMove 15s infinite ease-in-out;
        }

        .chess-piece:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        .chess-piece:nth-child(2) {
            top: 70%;
            left: 80%;
            animation-delay: 2s;
        }
        .chess-piece:nth-child(3) {
            top: 30%;
            right: 15%;
            animation-delay: 4s;
        }
        .chess-piece:nth-child(4) {
            bottom: 20%;
            left: 20%;
            animation-delay: 6s;
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 5rem 2rem;
        }

        section {
            margin-bottom: 6rem;
            transform-style: preserve-3d;
        }

        h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 2rem;
            color: var(--accent);
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent);
            transform-origin: left;
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        h2:hover::after {
            transform: scaleX(1);
        }

        .info-card {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 3rem;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
            transform-style: preserve-3d;
        }

        .info-card:hover {
            transform: translateY(-10px) rotateY(5deg);
            box-shadow: 0 30px 70px rgba(0,0,0,0.4);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .prize-card {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            border: 1px solid var(--accent);
        }

        .prize-card:hover {
            transform: scale(1.05) rotateY(10deg);
            box-shadow: 0 15px 40px rgba(248, 187, 34, 0.3);
        }

        .prize-card h3 {
            color: var(--accent);
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .prize-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .btn {
            display: inline-block;
            background: var(--accent);
            color: var(--dark);
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            text-decoration: none;
            margin-top: 2rem;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            cursor: pointer;
            border: none;
        }

        .btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(248, 187, 34, 0.4);
        }

        /* Enhanced Chess Board */
        .chess-board-container {
            perspective: 1000px;
            margin: 3rem auto;
            width: fit-content;
        }

        .chess-board {
            width: 400px;
            height: 400px;
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            transform-style: preserve-3d;
            transform: rotateX(10deg) rotateY(-10deg);
            transition: transform 0.5s ease;
            position: relative;
            border: 15px solid #5d4037;
            border-radius: 5px;
        }

        .chess-board:hover {
            transform: rotateX(15deg) rotateY(-5deg);
        }

        .chess-square {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .light-square {
            background: #f0d9b5;
        }

        .dark-square {
            background: #b58863;
        }

        .chess-piece {
            font-size: 2.5rem;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            z-index: 2;
        }

        .chess-piece:hover {
            transform: translateY(-5px);
        }

        .board-edge {
            position: absolute;
            background: #5d4037;
            z-index: 1;
        }

        .board-edge.top {
            top: -15px;
            left: -15px;
            right: -15px;
            height: 15px;
            transform-origin: bottom;
            transform: rotateX(90deg);
        }

        .board-edge.bottom {
            bottom: -15px;
            left: -15px;
            right: -15px;
            height: 15px;
            transform-origin: top;
            transform: rotateX(-90deg);
        }

        .board-edge.left {
            top: -15px;
            bottom: -15px;
            left: -15px;
            width: 15px;
            transform-origin: right;
            transform: rotateY(-90deg);
        }

        .board-edge.right {
            top: -15px;
            bottom: -15px;
            right: -15px;
            width: 15px;
            transform-origin: left;
            transform: rotateY(90deg);
        }

        /* Venue Section - Improved for Mobile */
        .venue-card {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .venue-image {
            height: 250px;
            background-image: url('https://portcredit.peelschools.org/sites/portcredit.peelschools.org/files/styles/gallery_slide_media/public/2023-09/port_credit_ss_building.jpg?itok=9bO7WgY4');
            background-size: cover;
            background-position: center;
            position: relative;
            transition: all 0.5s ease;
        }

        .venue-image:hover {
            transform: scale(1.02);
        }

        .venue-content {
            padding: 2rem;
        }

        .venue-link {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .venue-link:hover {
            color: white;
            transform: translateX(5px);
        }

        .venue-link::after {
            content: '‚Üí';
            transition: all 0.3s ease;
        }

        .venue-link:hover::after {
            transform: translateX(3px);
        }

        /* Rules Section */
        .rules-list {
            list-style-type: none;
            counter-reset: rules-counter;
        }

        .rules-list li {
            position: relative;
            padding-left: 2.5rem;
            margin-bottom: 1rem;
            counter-increment: rules-counter;
        }

        .rules-list li::before {
            content: counter(rules-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--accent);
            color: var(--dark);
            width: 1.8rem;
            height: 1.8rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Schedule Section */
        .schedule-timeline {
            position: relative;
            padding-left: 3rem;
        }

        .schedule-timeline::before {
            content: '';
            position: absolute;
            left: 1.2rem;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--accent);
        }

        .schedule-item {
            position: relative;
            padding-bottom: 2rem;
        }

        .schedule-item:last-child {
            padding-bottom: 0;
        }

        .schedule-item::before {
            content: '';
            position: absolute;
            left: -3rem;
            top: 0.3rem;
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
            background: var(--accent);
            border: 3px solid var(--secondary);
        }

        .schedule-time {
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.5rem;
        }

        .schedule-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .schedule-desc {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        /* Registration Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 100;
            justify-content: center;
            align-items: flex-start;
            backdrop-filter: blur(5px);
            overflow-y: auto;
            padding: 2rem 0;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--secondary);
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            transform-style: preserve-3d;
            transform: translateY(0);
            opacity: 1;
            transition: all 0.5s ease;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            border: 1px solid var(--accent);
            margin: 2rem 0;
            overflow-y: auto;
            position: relative;
        }

        .close-btn {
            position: fixed;
            top: 30px;
            right: 30px;
            font-size: 2rem;
            color: var(--accent);
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(0,0,0,0.7);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 101;
        }

        .close-btn:hover {
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--accent);
        }

        input, textarea, select {
            width: 100%;
            padding: 0.8rem;
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.3);
            color: white;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 10px rgba(248, 187, 34, 0.5);
        }

        /* Team members section */
        #teamMembers {
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
            margin-bottom: 1rem;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 0.5rem;
        }

        /* Payment Info */
        .payment-info {
            background: rgba(248, 187, 34, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--accent);
        }

        .contact-email {
            color: var(--accent);
            font-weight: 700;
            font-size: 1.2rem;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--accent);
            color: var(--dark);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            z-index: 99;
            border: none;
        }

        .back-to-top.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .back-to-top:hover {
            background: white;
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(248, 187, 34, 0.4);
        }

        .back-to-top i {
            transition: transform 0.3s ease;
        }

        .back-to-top:hover i {
            transform: translateY(-3px);
        }

        /* Footer */
        footer {
            background: var(--secondary);
            text-align: center;
            position: relative;
            padding: 3rem 0;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            margin-bottom: 1rem;
        }

        .footer-links a {
            color: var(--text);
            font-weight: 500;
            transition: var(--transition);
            text-decoration: none;
            font-weight: bold;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        .footer-social {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .footer-social a {
            color: var(--text);
            font-size: 1.5rem;
            transition: var(--transition);
        }

        .footer-social a:hover {
            color: var(--accent);
            transform: translateY(-5px);
        }

        .copyright {
            color: var(--text);
            font-size: 0.9rem;
            margin-top: 2rem;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .venue-card {
                grid-template-columns: 1fr 1fr;
            }
            
            .venue-image {
                min-height: 300px;
                height: auto;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 1.2rem;
            }
            
            .info-card {
                padding: 2rem;
            }
            
            .chess-board {
                width: 300px;
                height: 300px;
            }
            
            .modal-content {
                padding: 1.5rem;
            }
            
            .close-btn {
                top: 15px;
                right: 15px;
                font-size: 1.5rem;
                width: 35px;
                height: 35px;
            }

            .back-to-top {
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
                bottom: 20px;
                right: 20px;
            }

            .navbar-links {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background: var(--secondary);
                flex-direction: column;
                align-items: center;
                padding: 1rem 0;
                gap: 1rem;
                transform: translateY(-150%);
                transition: var(--transition);
                box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            }

            .navbar-links.active {
                transform: translateY(0);
            }

            .mobile-menu-btn {
                display: block;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .modal-content {
                width: 95%;
                padding: 1rem;
            }
            
            #teamMembers {
                max-height: 200px;
            }
            
            .form-group {
                margin-bottom: 0.8rem;
            }
            
            input, textarea, select {
                padding: 0.7rem;
            }

            .schedule-timeline {
                padding-left: 2rem;
            }

            .schedule-timeline::before {
                left: 0.7rem;
            }

            .schedule-item::before {
                left: -2rem;
            }

            .navbar {
                padding: 1rem;
            }

            .navbar-logo {
                font-size: 1.2rem;
            }
            
            .venue-content {
                padding: 1.5rem;
            }
            
            .venue-image {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <a href="#" class="navbar-logo">
            <i class="fas fa-chess"></i>
            <span>Port Credit Chess</span>
        </a>
        <div class="navbar-links">
            <a href="#about" class="navbar-link">Overview</a>
            <a href="#venue" class="navbar-link">Venue</a>
            <a href="#schedule" class="navbar-link">Schedule</a>
            <a href="#rules" class="navbar-link">Rules</a>
            <a href="#prizes" class="navbar-link">Prizes</a>
            <a href="#results" class="navbar-link">Results</a>
        </div>
        <button class="mobile-menu-btn">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <header>
        <div class="header-content">
            <h1 style="margin-top: 3rem;">Peel District-Wide Chess Tournament</h1>
            <p class="subtitle">Presented by Port Credit Chess Club</p>
            <div class="date-badge">Thursday, May 22nd</div>
            <button id="registerBtn" class="btn">Register Your School</button>
        </div>
        
        <div class="chess-piece">‚ôî</div>
        <div class="chess-piece">‚ôï</div>
        <div class="chess-piece">‚ôñ</div>
        <div class="chess-piece">‚ôó</div>
    </header>

    <div class="container">
        <section id="about">
            <h2>The Tournament</h2>
            <div class="info-card">
                <p>Join us for the Peel District-Wide Chess Tournament, where schools across the region will compete for glory. Each team will consist of 6 players, battling it out in a day of intense strategic competition. The event promises thrilling matches, delicious pizza, and prestigious trophies for the winners.</p>
                
                <div class="chess-board-container">
                    <div class="chess-board">
                        <div class="board-edge top"></div>
                        <div class="board-edge bottom"></div>
                        <div class="board-edge left"></div>
                        <div class="board-edge right"></div>
                        <!-- Chess board squares will be added by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <section id="venue">
            <h2>Venue</h2>
            <div class="venue-card">
                <div class="venue-image"><img src="https://img.new.livestream.com/events/0000000000a79948/b0fa3de2-d9ba-417a-8306-c69ad49a9a72_640x359.jpg"></div>
                <div class="venue-content">
                    <h3>Port Credit Secondary School</h3>
                    <p>The tournament will be held in the spacious cafeteria of Port Credit Secondary School, a premier educational facility in the Peel District. The venue offers ample space for all participants, comfortable seating, and excellent facilities.</p>
                    <p><strong>Address:</strong> 70 Mineola Road East, Mississauga, ON L5G 2E5</p>
                    <p><strong>Time:</strong> 2:15 PM - 7:00 PM</p>
                    <a href="https://portcredit.peelschools.org" target="_blank" class="venue-link">Visit School Website</a>
                </div>
            </div>
        </section>

        <section id="schedule">
            <h2>Tournament Schedule</h2>
            <div class="info-card">
                <div class="schedule-timeline">
                    <div class="schedule-item">
                        <div class="schedule-time">2:15 PM - 2:40 PM</div>
                        <div class="schedule-title">Arrival and Check-in</div>
                        <div class="schedule-desc">All participants arrive and check in with their teams</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">2:45 PM - 3:00 PM</div>
                        <div class="schedule-title">Opening Ceremony</div>
                        <div class="schedule-desc">Welcome address and tournament overview</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">3:10 PM - 4:55 PM</div>
                        <div class="schedule-title">Rounds 1-3</div>
                        <div class="schedule-desc">First three rounds with 5-minute intermissions between rounds</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">4:55 PM - 5:25 PM</div>
                        <div class="schedule-title">Dinner Break</div>
                        <div class="schedule-desc">Pizza will be distributed (1 XL with 12 slices per team)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">5:20 PM - 6:20 PM</div>
                        <div class="schedule-title">Rounds 4-5</div>
                        <div class="schedule-desc">Final two rounds of competition</div>
                    </div>
                    <div class="schedule-item">
                        <div class="schedule-time">6:45 PM - 7:00 PM</div>
                        <div class="schedule-title">Award Ceremony</div>
                        <div class="schedule-desc">Presentation of trophies and closing remarks</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="rules">
            <h2>Tournament Rules</h2>
            <div class="info-card">
                <ul class="rules-list">
                    <li>Upon pairings being done, they will be posted. Each match will be labeled with a board number. Please check your pairings and locate your board.</li>
                    <li><strong>Format:</strong> 5-round Swiss Pairing system</li>
                    <li>Win/Loss report to be done to your section's arbiters.</li>
                    <li>The total number of WINS won by your school, divided by 6, determines the average score per team. (Total wins / 6). The school with the highest score wins the School Team Chess Championship trophy.</li>
                    <li>Each Chess team can have a maximum of 6 participants.</li>
                    <li>Top 3 individual players will be awarded trophies (1st, 2nd, 3rd).</li>
                    <li>Play on the designated Board number and appropriate paired color (white/black).</li>
                    <li><strong>Time Control:</strong> 15 minutes per player, 0s increment (15|0).</li>
                    <li>All moves are "Touch-Move" (touch a piece, and you must move it).</li>
                    <li>Making Three Illegal moves is an immediate forfeit (call over a volunteer to keep track of the illegal move count).</li>
                    <li>No take-backs.</li>
                    <li>Any type of assistance, including the use of chess engines during your game is strictly prohibited. Upon this happening, you will be disqualified and banned from any future tournaments.</li>
                    <li>You may not leave the chess board while it is your turn.</li>
                    <li>If your opponent is absent, make your move, then start their clock. Call a volunteer over to confirm/record the win.</li>
                    <li>The Head Arbiter reserves the right to make the final decision in any scenarios.</li>
                    <li>Please Follow the PDSB Code of Conduct. This includes but is not limited to:
                        <ul style="list-style-type: disc; margin-left: 2rem; margin-top: 0.5rem;">
                            <li>Treating all participants and staff with respect.</li>
                            <li>Respecting the equipment, the pieces, and the boards.</li>
                        </ul>
                    </li>
                    <li>If any of these rules are broken, we will kindly ask you to leave.</li>
                </ul>
            </div>
        </section>

        <section id="details">
            <h2>Tournament Details</h2>
            <div class="info-grid">
                <div class="info-card">
                    <h3>Team Composition</h3>
                    <p>Each school team must consist of exactly 6 players. The team score will be calculated as the total points earned divided by 6 (number of players).</p>
                </div>
                
                <div class="info-card">
                    <h3>Scoring System</h3>
                    <p>Players earn points for each match: 1 for win, 0.5 for draw, 0 for loss. Team score = (Total points)/6. This ensures fair competition regardless of team size.</p>
                </div>
                
                <div class="info-card">
                    <h3>Food & Amenities</h3>
                    <p>Complimentary pizza will be served to all participants. Water stations will be available throughout the venue. Please notify us of any dietary restrictions.</p>
                </div>
            </div>
        </section>

        <section id="prizes">
            <h2>Prizes & Awards</h2>
            <div class="info-grid">
                <div class="prize-card">
                    <div class="prize-icon">üèÜ</div>
                    <h3>Top Individual</h3>
                    <p>1st, 2nd, and 3rd place individual performers will receive custom trophies!</p>
                </div>
                
                <div class="prize-card">
                    <div class="prize-icon">üëë</div>
                    <h3>Best Team</h3>
                    <p>The school team with the highest average score will receive the Championship Trophy!</p>
                </div>
                
                <div class="prize-card">
                    <div class="prize-icon">üéñÔ∏è</div>
                    <h3>Special Recognition</h3>
                    <p>All teams will be invited to next year's tournament and be registered on a list for other potential tournaments held by us next year!</p>
                </div>
            </div>
        </section>

        <section id="registration">
            <h2>How to Participate</h2>
            <div class="info-card">
                <p>Schools must register by emailing their team roster to:</p>
                <p class="contact-email">997933@pdsb.net (Sarveshwar Senthil Kumar)</p>
                <p>Include: School name, team members' names and grades, and a contact teacher's information. This can be found by clicking the "Register your School" button above</p>
                <div class="payment-info">
                    <p><strong>Entry Fee:</strong> $10 per team member (total $60 per team of 6)</p>
                    <p><em>Payment instructions will be sent after registration</em></p>
                </div>
                <p>Registration deadline: May 1st</p>
            </div>
        </section>

                <section id="results">
            <h2>Individual Standings</h2>
            <div class="info-card">
                <div class="search-container" style="margin-bottom: 1.5rem;">
                    <input type="text" id="searchInput" placeholder="Search by name or school..." style="width: 100%; padding: 0.8rem; border-radius: 10px; border: 2px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3); color: white; font-family: 'Montserrat', sans-serif;">
                </div>
                <div class="table-container" style="overflow-x: auto;">
                    <table id="resultsTable" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(248, 187, 34, 0.2);">
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTable(0)">Rank <i class="fas fa-sort"></i></th>
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTable(1)">Name <i class="fas fa-sort"></i></th>
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTable(2)">School <i class="fas fa-sort"></i></th>
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTable(3)">Score <i class="fas fa-sort"></i></th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                            <!-- Table data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
            <h2>Team Standings</h2>
            <div class="info-card">
                <div class="search-container" style="margin-bottom: 1.5rem;">
                    <input type="text" id="teamSearchInput" placeholder="Search by school name..." style="width: 100%; padding: 0.8rem; border-radius: 10px; border: 2px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3); color: white; font-family: 'Montserrat', sans-serif;">
                </div>
                <div class="table-container" style="overflow-x: auto;">
                    <table id="teamResultsTable" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(248, 187, 34, 0.2);">
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTeamTable(0)">Rank <i class="fas fa-sort"></i></th>
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTeamTable(1)">School <i class="fas fa-sort"></i></th>
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTeamTable(2)">Total Score <i class="fas fa-sort"></i></th>
                                <th style="padding: 1rem; text-align: left; cursor: pointer;" onclick="sortTeamTable(3)">Average Score <i class="fas fa-sort"></i></th>
                                <th style="padding: 1rem; text-align: left; cursor: pointer;">Top Players <i class="fas fa-sort"></i></th>
                            </tr>
                        </thead>
                        <tbody id="teamResultsTableBody">
                            <!-- Team data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <!-- Registration Modal -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Tournament Registration</h2>
            <form id="registrationForm">
                <div class="form-group">
                    <label for="schoolName">School Name</label>
                    <input type="text" id="schoolName" required>
                </div>
                
                <div class="form-group">
                    <label for="teacherName">Teacher Contact Name</label>
                    <input type="text" id="teacherName" required>
                </div>
                
                <div class="form-group">
                    <label for="teacherEmail">Teacher Email</label>
                    <input type="email" id="teacherEmail" required>
                </div>
                
                <div class="form-group">
                    <label for="teacherPhone">Teacher Phone</label>
                    <input type="tel" id="teacherPhone">
                </div>
                
                <div class="form-group">
                    <label>Team Members (6 required)</label>
                    <div id="teamMembers">
                        <!-- Team member inputs will be added by JavaScript -->
                    </div>
                </div>
                
                <div class="payment-info">
                    <p><strong>Entry Fee:</strong> $10 per member √ó 6 = <strong>$60 total</strong></p>
                    <p>Payment details will be emailed to you after registration</p>
                </div>
                
                <div class="form-group">
                    <label for="additionalInfo">Additional Information (Dietary restrictions, special requests, etc.)</label>
                    <textarea id="additionalInfo" rows="3"></textarea>
                </div>
                
                <button type="submit" class="btn">Submit Registration</button>
            </form>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="#about">Overview</a>
                <a href="#venue">Venue</a>
                <a href="#schedule">Schedule</a>
                <a href="#rules">Rules</a>
                <a href="#details">Details</a>
                <a href="#prizes">Awards</a>
            </div>
            
            <div class="footer-social">
                <a target="_blank" href="https://github.com/ZugzwangChessClub"><i class="fa-brands fa-github"></i></a>
                <a target="_blank" href="https://discord.com/invite/UyghD9ZCQJ"><i class="fa-brands fa-discord"></i></a>
                <a target="_blank" href="https://www.instagram.com/zugzwangchessclub/"><i class="fa-brands fa-instagram"></i></a>
                <a target="_blank" href="https://www.twitch.tv/zugzwangchessclub"><i class="fa-brands fa-twitch"></i></a>
                <a target="_blank" href="https://zugzwangcc.wordpress.com"><i class="fa-brands fa-wordpress-simple"></i></a>
                <a target="_blank" href="https://www.chess.com/club/zugzwang-club"><i class="fa-solid fa-chess-board"></i></a>
                <a target="_blank" href="https://drive.google.com/drive/folders/1_IzsOJ2hare8QEWBU-HqRME7ey_JgVQV?usp=sharing"><i class="fa-brands fa-google-drive"></i></a>
                <a target="_blank" href="mailto: chessclubzugzwang@gmail.com"><i class="fa-solid fa-envelope"></i></a>
                <a target="_blank" href="tel:437-450-4378"><i class="fa-solid fa-phone"></i></a>
            </div>
            
            <div class="copyright">
                &copy; 2025 Port Credit Chess Club | Peel District-Wide Chess Tournament<br>
                All schools in the Peel District are welcome to participate
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top" aria-label="Back to Top">
        <i>‚Üë</i>
    </button>

    <script>
        // Enhanced Chess Board
        document.addEventListener('DOMContentLoaded', function() {
            const chessPieces = {
                black: ['‚ôú', '‚ôû', '‚ôù', '‚ôõ', '‚ôö', '‚ôù', '‚ôû', '‚ôú'],
                white: ['‚ôñ', '‚ôò', '‚ôó', '‚ôï', '‚ôî', '‚ôó', '‚ôò', '‚ôñ']
            };
            const board = document.querySelector('.chess-board');
            
            // Create chess board
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `chess-square ${(row + col) % 2 === 0 ? 'light-square' : 'dark-square'}`;
                    
                    // Add pieces to first and last rows
                    if (row === 0) {
                        square.innerHTML = `<div class="chess-piece">${chessPieces.black[col]}</div>`;
                        square.classList.add('has-piece');
                    } else if (row === 1) {
                        square.innerHTML = '<div class="chess-piece">‚ôü</div>';
                        square.classList.add('has-piece');
                    } else if (row === 6) {
                        square.innerHTML = '<div class="chess-piece">‚ôô</div>';
                        square.classList.add('has-piece');
                    } else if (row === 7) {
                        square.innerHTML = `<div class="chess-piece">${chessPieces.white[col]}</div>`;
                        square.classList.add('has-piece');
                    }
                    
                    // Add coordinates
                    if (row === 7) {
                        const coord = document.createElement('div');
                        coord.className = 'coord';
                        coord.textContent = String.fromCharCode(97 + col);
                        coord.style.position = 'absolute';
                        coord.style.bottom = '2px';
                        coord.style.right = '2px';
                        coord.style.color = (row + col) % 2 === 0 ? '#b58863' : '#f0d9b5';
                        coord.style.fontSize = '10px';
                        square.appendChild(coord);
                    }
                    if (col === 0) {
                        const coord = document.createElement('div');
                        coord.className = 'coord';
                        coord.textContent = (8 - row).toString();
                        coord.style.position = 'absolute';
                        coord.style.top = '2px';
                        coord.style.left = '2px';
                        coord.style.color = (row + col) % 2 === 0 ? '#b58863' : '#f0d9b5';
                        coord.style.fontSize = '10px';
                        square.appendChild(coord);
                    }
                    
                    board.appendChild(square);
                }
            }

            // Registration Modal
            const modal = document.getElementById('registrationModal');
            const registerBtns = document.querySelectorAll('#registerBtn, #registerBtn2');
            const closeBtn = document.querySelector('.close-btn');
            const form = document.getElementById('registrationForm');
            const teamMembersDiv = document.getElementById('teamMembers');
            
            // Initialize team member fields
            function initializeTeamMembers() {
                teamMembersDiv.innerHTML = '';
                
                for (let i = 0; i < 6; i++) {
                    const memberDiv = document.createElement('div');
                    memberDiv.className = 'form-group';
                    memberDiv.style.marginTop = i > 0 ? '1rem' : '0';
                    memberDiv.innerHTML = `
                        <label>Team Member ${i+1}</label>
                        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1rem;">
                            <input type="text" placeholder="Full Name" required>
                            <input type="text" placeholder="Grade" required>
                        </div>
                    `;
                    teamMembersDiv.appendChild(memberDiv);
                }
            }
            
            // Show modal function
            function showModal() {
                initializeTeamMembers(); // Initialize team members each time modal opens
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                modal.classList.add('active');
            }
            
            // Hide modal function
            function hideModal() {
                modal.classList.remove('active');
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.style.overflow = '';
                }, 300);
            }

            // Event listeners for both register buttons
            registerBtns.forEach(btn => {
                btn.addEventListener('click', showModal);
            });
            
            // Close modal
            closeBtn.addEventListener('click', hideModal);
            
            // Close when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideModal();
                }
            });

            // Form submission
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // Collect form data
                const formData = {
                    schoolName: document.getElementById('schoolName').value,
                    teacherName: document.getElementById('teacherName').value,
                    teacherEmail: document.getElementById('teacherEmail').value,
                    teacherPhone: document.getElementById('teacherPhone').value,
                    teamMembers: [],
                    additionalInfo: document.getElementById('additionalInfo').value
                };
                
                // Collect team members
                const memberInputs = teamMembersDiv.querySelectorAll('input[type="text"]');
                for (let i = 0; i < memberInputs.length; i += 2) {
                    if (memberInputs[i].value && memberInputs[i+1].value) {
                        formData.teamMembers.push({
                            name: memberInputs[i].value,
                            grade: memberInputs[i+1].value
                        });
                    }
                }
                
                // Validate at least 6 members
                if (formData.teamMembers.length < 6) {
                    alert('Please enter all 6 team members');
                    return;
                }
                
                // Create email body
                const emailBody = `School: ${formData.schoolName}%0D%0A
Teacher: ${formData.teacherName}%0D%0A
Email: ${formData.teacherEmail}%0D%0A
Phone: ${formData.teacherPhone}%0D%0A%0D%0A
Team Members:%0D%0A${formData.teamMembers.map(m => `${m.name} (Grade ${m.grade})`).join('%0D%0A')}%0D%0A%0D%0A
Additional Info: ${formData.additionalInfo}%0D%0A%0D%0A
Entry Fee: $60 (6 players √ó $10 each)%0D%0A
Payment instructions will follow this registration.`;
                
                // Open email client
                window.location.href = `mailto:997933@pdsb.net?subject=Peel Chess Tournament Registration - ${formData.schoolName}&body=${emailBody}`;
                
                // Close modal
                hideModal();
                alert('Registration submitted! Please complete by sending the email that opened. Payment instructions will be sent to you.');
            });
            
            // Add parallax effect
            document.addEventListener('mousemove', function(e) {
                const x = e.clientX / window.innerWidth;
                const y = e.clientY / window.innerHeight;
                
                document.querySelector('.header-content').style.transform = `
                    rotateY(${(x - 0.5) * 10}deg)
                    rotateX(${(0.5 - y) * 10}deg)
                `;
            });

            // Back to Top Button
            const backToTopButton = document.querySelector('.back-to-top');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopButton.classList.add('active');
                } else {
                    backToTopButton.classList.remove('active');
                }
            });

            backToTopButton.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Enhanced Navbar Scroll Behavior
            const navbar = document.querySelector('.navbar');
            let lastScroll = 0;
            const scrollThreshold = 10; // Adjust this value as needed (in pixels)
            let isScrollingDown = false;
            let scrollTimeout;

            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                
                // Clear any existing timeout
                clearTimeout(scrollTimeout);
                
                // At very top - always show navbar
                if (currentScroll <= 0) {
                    navbar.classList.remove('hidden');
                    navbar.classList.remove('scrolling-up');
                    return;
                }
                
                // Determine scroll direction
                isScrollingDown = currentScroll > lastScroll;
                
                // Scrolling down - hide navbar (only if we've scrolled past threshold)
                if (isScrollingDown && currentScroll > navbar.offsetHeight + scrollThreshold) {
                    navbar.classList.add('hidden');
                    navbar.classList.remove('scrolling-up');
                } 
                // Scrolling up - show navbar (anywhere on page)
                else if (!isScrollingDown) {
                    navbar.classList.remove('hidden');
                    navbar.classList.add('scrolling-up');
                }
                
                // Set a timeout to remove the scrolling-up class when scrolling stops
                scrollTimeout = setTimeout(() => {
                    navbar.classList.remove('scrolling-up');
                }, 300);
                
                lastScroll = currentScroll <= 0 ? 0 : currentScroll; // Prevent negative values
            });

            // Mobile Menu Toggle
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const navbarLinks = document.querySelector('.navbar-links');

            mobileMenuBtn.addEventListener('click', () => {
                navbarLinks.classList.toggle('active');
                mobileMenuBtn.innerHTML = navbarLinks.classList.contains('active') ? 
                    '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
            });

            // Close mobile menu when clicking a link
            document.querySelectorAll('.navbar-link').forEach(link => {
                link.addEventListener('click', () => {
                    navbarLinks.classList.remove('active');
                    mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
        });

        // Results Table Data and Functionality
        const standingsData = [
            { rank: 1, name: "Ashwin Chunchu", school: "St. Francis Xavier SS", score: 5 },
            { rank: 2, name: "Joshua Yeh", school: "St. Francis Xavier SS", score: 5 },
            { rank: 3, name: "Nghi Nguyen", school: "Meadowvale SS", score: 4 },
            { rank: 4, name: "Irene Xie", school: "Lorne Park SS", score: 4 },
            { rank: 5, name: "Jonathan Zhang", school: "The Woodlands SS", score: 4 },
            { rank: 6, name: "Antarip Das", school: "Port Credit SS", score: 4 },
            { rank: 7, name: "Adam Cheng", school: "Lorne Park SS", score: 4 },
            { rank: 8, name: "Muhammad Khan", school: "Central Peel SS", score: 4 },
            { rank: 9, name: "Ariel Li", school: "Humberview SS", score: 4 },
            { rank: 10, name: "Kai Kalaria", school: "Streetsville SS", score: 4 },
            { rank: 11, name: "Felix Zhang", school: "Streetsville SS", score: 4 },
            { rank: 12, name: "Pranith Sepuri", school: "Streetsville SS", score: 4 },
            { rank: 13, name: "Charlie Champion", school: "Port Credit SS", score: 3.5 },
            { rank: 14, name: "Siddh Sinha", school: "St. Francis Xavier SS", score: 3.5 },
            { rank: 15, name: "Aaron Bell", school: "Port Credit SS", score: 3.5 },
            { rank: 16, name: "Jack Guyatt", school: "Lorne Park SS", score: 3.5 },
            { rank: 17, name: "Vishruth Sharma", school: "The Woodlands SS", score: 3 },
            { rank: 18, name: "Ashutosh Nigdikar", school: "Mississauga SS", score: 3 },
            { rank: 19, name: "Daniel Nguyen", school: "The Woodlands SS", score: 3 },
            { rank: 20, name: "Devon Webster", school: "St. Francis Xavier SS", score: 3 },
            { rank: 21, name: "Swapnil Bhoi", school: "Central Peel SS", score: 3 },
            { rank: 22, name: "Amir Turakulov", school: "Port Credit SS", score: 3 },
            { rank: 23, name: "Christian Planche", school: "St. Francis Xavier SS", score: 3 },
            { rank: 24, name: "Yahia Al Shoubaki", school: "The Woodlands SS", score: 3 },
            { rank: 25, name: "Alex Ly", school: "Stephen Lewis SS", score: 3 },
            { rank: 26, name: "Gurshan Gill", school: "Harold M Brathwaite SS", score: 3 },
            { rank: 27, name: "Vihaan Kaushal", school: "Meadowvale SS", score: 3 },
            { rank: 28, name: "Jenny Phan", school: "Rick Hansen SS", score: 3 },
            { rank: 29, name: "David Guevara", school: "Castlebrooke SS", score: 3 },
            { rank: 30, name: "Karman Dhami", school: "Harold M Brathwaite SS", score: 3 },
            { rank: 31, name: "Jaspreet Bharaj", school: "Castlebrooke SS", score: 3 },
            { rank: 32, name: "Omar Sattar", school: "Rick Hansen SS", score: 3 },
            { rank: 33, name: "Dilaxan Jeyaraja", school: "Harold M Brathwaite SS", score: 3 },
            { rank: 34, name: "Hashir Safdar", school: "Mississauga SS", score: 3 },
            { rank: 35, name: "Agam Khehara", school: "Rick Hansen SS", score: 3 },
            { rank: 36, name: "Kabeer Talwar", school: "Meadowvale SS", score: 2.5 },
            { rank: 37, name: "Daniel Malyshev", school: "Port Credit SS", score: 2.5 },
            { rank: 38, name: "Rahul Aggarwal", school: "Harold M Brathwaite SS", score: 2.5 },
            { rank: 39, name: "Harshdeep Nagi", school: "Castlebrooke SS", score: 2.5 },
            { rank: 40, name: "Abdel Rahman Sabri", school: "Stephen Lewis SS", score: 2 },
            { rank: 41, name: "Abdul wasey bin iqbal", school: "Stephen Lewis SS", score: 2 },
            { rank: 42, name: "Gurneal Singh", school: "Castlebrooke SS", score: 2 },
            { rank: 43, name: "Jaitra Bhatt", school: "Central Peel SS", score: 2 },
            { rank: 44, name: "Nicholas Noronha", school: "Port Credit SS", score: 2 },
            { rank: 45, name: "Ian Sun", school: "St. Francis Xavier SS", score: 2 },
            { rank: 46, name: "Abdullah Khan", school: "The Woodlands SS", score: 2 },
            { rank: 47, name: "Connor Na", school: "Lorne Park SS", score: 2 },
            { rank: 48, name: "Sami Abu Allan", school: "Stephen Lewis SS", score: 2 },
            { rank: 49, name: "Ahmad Al Shobaki", school: "Stephen Lewis SS", score: 2 },
            { rank: 50, name: "Samarth Zala", school: "Harold M Brathwaite SS", score: 2 },
            { rank: 51, name: "Ibrahim Noureddine", school: "Rick Hansen SS", score: 2 },
            { rank: 52, name: "Harnoor Dharmait", school: "Harold M Brathwaite SS", score: 2 },
            { rank: 53, name: "Shaanveer Kamboj", school: "Humberview SS", score: 2 },
            { rank: 54, name: "Hamza Asim", school: "Rick Hansen1 Individual", score: 2 },
            { rank: 55, name: "Ahmad Nader Akel", school: "Streetsville SS", score: 2 },
            { rank: 56, name: "Teven Truong", school: "Streetsville SS", score: 2 },
            { rank: 57, name: "Kiel Foster", school: "Meadowvale SS", score: 2 },
            { rank: 58, name: "Randeep Saini", school: "Castlebrooke SS", score: 2 },
            { rank: 59, name: "Ranveer Saini", school: "Castlebrooke1 Individual", score: 2 },
            { rank: 60, name: "Harjot Kang", school: "Mississauga SS", score: 2 },
            { rank: 61, name: "Surya Rajeskaran", school: "Meadowvale SS", score: 1.5 },
            { rank: 62, name: "Ayenoor Danish", school: "Lorne Park SS", score: 1.5 },
            { rank: 63, name: "Mohammed Alhafi", school: "Streetsville SS", score: 1.5 },
            { rank: 64, name: "Kory Godfrey", school: "Meadowvale SS", score: 1.5 },
            { rank: 65, name: "Bibek Singh", school: "Castlebrooke SS", score: 1.5 },
            { rank: 66, name: "Charles Shervin I. de Leon", school: "Mississauga SS", score: 1 },
            { rank: 67, name: "Harshit Sridhar", school: "The Woodlands SS", score: 1 },
            { rank: 68, name: "Aaran Varlathelilan", school: "Central Peel SS", score: 1 },
            { rank: 69, name: "Mohamed Ismail", school: "Rick Hansen SS", score: 1 },
            { rank: 70, name: "Kayash Manikandan", school: "Central Peel SS", score: 1 },
            { rank: 71, name: "Lakshay Verma", school: "Central Peel SS", score: 1 },
            { rank: 72, name: "Durvank Mordekar", school: "Mississauga SS", score: 1 },
            { rank: 73, name: "Abdullah Muhammad", school: "Mississauga SS", score: 1 },
            { rank: 74, name: "Bharani Kumar SV", school: "Rick Hansen SS", score: 0.5 },
            { rank: 75, name: "Faizan Mirza", school: "Stephen Lewis SS", score: 0 },
            { rank: 76, name: "Naila Shaikh", school: "Meadowvale1 Individual", score: 0 }
        ];

        // Populate the table
        function populateTable(data) {
            const tableBody = document.getElementById('resultsTableBody');
            tableBody.innerHTML = '';
            
            data.forEach(player => {
                const row = document.createElement('tr');
                row.style.borderBottom = '1px solid rgba(255,255,255,0.1)';
                row.innerHTML = `
                    <td style="padding: 1rem;">${player.rank}</td>
                    <td style="padding: 1rem;">${player.name}</td>
                    <td style="padding: 1rem;">${player.school}</td>
                    <td style="padding: 1rem;">${player.score}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const filteredData = standingsData.filter(player => 
                player.name.toLowerCase().includes(searchTerm) || 
                player.school.toLowerCase().includes(searchTerm)
            );
            populateTable(filteredData);
        });

        // Sorting functionality
        let currentSortColumn = 0;
        let sortDirection = 1; // 1 for ascending, -1 for descending

        function sortTable(columnIndex) {
            // If clicking the same column, reverse the sort direction
            if (currentSortColumn === columnIndex) {
                sortDirection *= -1;
            } else {
                currentSortColumn = columnIndex;
                sortDirection = 1;
            }
            
            const sortedData = [...standingsData].sort((a, b) => {
                let valueA, valueB;
                
                switch(columnIndex) {
                    case 0: // Rank
                        valueA = a.rank;
                        valueB = b.rank;
                        break;
                    case 1: // Name
                        valueA = a.name.toLowerCase();
                        valueB = b.name.toLowerCase();
                        break;
                    case 2: // School
                        valueA = a.school.toLowerCase();
                        valueB = b.school.toLowerCase();
                        break;
                    case 3: // Score
                        valueA = a.score;
                        valueB = b.score;
                        break;
                    default:
                        return 0;
                }
                
                if (valueA < valueB) return -1 * sortDirection;
                if (valueA > valueB) return 1 * sortDirection;
                return 0;
            });
            
            populateTable(sortedData);
            
            // Update sort indicators
            document.querySelectorAll('th i').forEach(icon => {
                icon.className = 'fas fa-sort';
            });
            
            const sortIcon = document.querySelectorAll('th')[columnIndex].querySelector('i');
            sortIcon.className = sortDirection === 1 ? 'fas fa-sort-up' : 'fas fa-sort-down';
        }

        // Initialize the table on page load
        document.addEventListener('DOMContentLoaded', function() {
            populateTable(standingsData);
        });
        // Calculate team standings from individual data
        function calculateTeamStandings() {
            const teamMap = {};
            
            // Process all players and aggregate by school
            standingsData.forEach(player => {
                // Skip individual entries (those with "Individual" in school name)
                if (player.school.includes("Individual")) return;
                
                if (!teamMap[player.school]) {
                    teamMap[player.school] = {
                        name: player.school,
                        totalScore: 0,
                        playerCount: 0,
                        topPlayers: []
                    };
                }
                
                const team = teamMap[player.school];
                team.totalScore += player.score;
                team.playerCount++;
                
                // Keep track of top 3 players per school
                team.topPlayers.push({
                    name: player.name,
                    score: player.score
                });
            });
            
            // Convert to array and calculate averages
            const teamStandings = Object.values(teamMap).map(team => {
                // Sort top players by score (descending)
                team.topPlayers.sort((a, b) => b.score - a.score);
                
                return {
                    ...team,
                    averageScore: (team.totalScore / 6).toFixed(2), // Assuming 6 players per team
                    formattedTopPlayers: team.topPlayers.map(p => `${p.name} (${p.score})`).join(', ')
                };
            });
            
            // Sort by average score (descending) then by total score (descending)
            teamStandings.sort((a, b) => {
                if (b.averageScore !== a.averageScore) {
                    return b.averageScore - a.averageScore;
                }
                return b.totalScore - a.totalScore;
            });
            
            // Add ranks
            teamStandings.forEach((team, index) => {
                team.rank = index + 1;
            });
            
            return teamStandings;
        }

        // Populate the team table
        function populateTeamTable(data) {
            const tableBody = document.getElementById('teamResultsTableBody');
            tableBody.innerHTML = '';
            
            data.forEach(team => {
                const row = document.createElement('tr');
                row.style.borderBottom = '1px solid rgba(255,255,255,0.1)';
                row.innerHTML = `
                    <td style="padding: 1rem;">${team.rank}</td>
                    <td style="padding: 1rem;">${team.name}</td>
                    <td style="padding: 1rem;">${team.totalScore}</td>
                    <td style="padding: 1rem;">${team.averageScore}</td>
                    <td style="padding: 1rem;" title="${team.formattedTopPlayers}">${team.formattedTopPlayers}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Search functionality for teams
        document.getElementById('teamSearchInput').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const filteredData = calculateTeamStandings().filter(team => 
                team.name.toLowerCase().includes(searchTerm)
            );
            populateTeamTable(filteredData);
        });

        // Sorting functionality for teams
        let currentTeamSortColumn = 0;
        let teamSortDirection = 1;

        function sortTeamTable(columnIndex) {
            if (currentTeamSortColumn === columnIndex) {
                teamSortDirection *= -1;
            } else {
                currentTeamSortColumn = columnIndex;
                teamSortDirection = 1;
            }
            
            const sortedData = [...calculateTeamStandings()].sort((a, b) => {
                let valueA, valueB;
                
                switch(columnIndex) {
                    case 0: // Rank
                        valueA = a.rank;
                        valueB = b.rank;
                        break;
                    case 1: // School
                        valueA = a.name.toLowerCase();
                        valueB = b.name.toLowerCase();
                        break;
                    case 2: // Total Score
                        valueA = a.totalScore;
                        valueB = b.totalScore;
                        break;
                    case 3: // Average Score
                        valueA = parseFloat(a.averageScore);
                        valueB = parseFloat(b.averageScore);
                        break;
                    case 4: // Top Players
                        valueA = a.formattedTopPlayers.toLowerCase();
                        valueB = b.formattedTopPlayers.toLowerCase();
                        break;
                    default:
                        return 0;
                }
                
                if (valueA < valueB) return -1 * teamSortDirection;
                if (valueA > valueB) return 1 * teamSortDirection;
                return 0;
            });
            
            populateTeamTable(sortedData);
            
            // Update sort indicators
            document.querySelectorAll('#teamResultsTable th i').forEach(icon => {
                icon.className = 'fas fa-sort';
            });
            
            const sortIcon = document.querySelectorAll('#teamResultsTable th')[columnIndex].querySelector('i');
            sortIcon.className = teamSortDirection === 1 ? 'fas fa-sort-up' : 'fas fa-sort-down';
        }

        // Initialize both tables on page load
        document.addEventListener('DOMContentLoaded', function() {
            populateTable(standingsData);
            populateTeamTable(calculateTeamStandings());
        });
    </script>
</body>
</html>